<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="xyz.mambaout.canteenanalysis.mapper.BasicDataStudentMapper">

    <select id="getStudentInfo" resultType="xyz.mambaout.canteenanalysis.entity.po.BasicDataStudent">
        SELECT * FROM basic_data_student
        <where>
            <if test="grade!=null and grade!=''">
                AND grade = #{grade}
            </if>
            <if test="college!=null and college!=''">
                AND college = #{college}
            </if>
            <if test="major!=null and major!=''">
                AND major = #{major}
            </if>
            <if test="className!=null and className!=''">
                AND class_name = #{className}
            </if>
            <if test="studentId!=null and studentId!=''">
                AND student_id = #{studentId}
            </if>
            <if test="gender!=null and gender!=''">
                AND gender = #{gender}
            </if>
            <if test="name!=null and name!=''">
                AND name LIKE CONCAT('%', #{name}, '%')
            </if>
            <if test="phone!=null and phone!=''">
                AND phone_number LIKE CONCAT('%', #{phone}, '%')
            </if>
        </where>
    </select>
</mapper>
